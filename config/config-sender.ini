duration=nil
report_file=/home/student/hybrid-access/config/report-sender.txt

[apps.1]
path=apps.mellanox.connectx
type=ConnectX
name=nic_in

[apps.1.config]
pciaddress=0000:02:0e.0

[apps.1.config.queues.1]
id=q1

[apps.2]
path=apps.mellanox.connectx
type=IO
name=link_in

[apps.2.config]
pciaddress=0000:02:0e.0
queue=q1

[apps.3]
path=program.hybrid_access.loadbalancer.roundrobin
type=RoundRobin
name=loadbalancer

[apps.3.config.setup]
mode=ETH

[apps.4]
path=program.hybrid_access.middleware.mac_forwarder
type=MacForwarder
name=forwarder1

[apps.4.config]
source_mac=22:6a:af:6f:58:d2
destination_mac=f6:fa:ed:3a:f4:d4

[apps.5]
path=program.hybrid_access.middleware.mac_forwarder
type=MacForwarder
name=forwarder2

[apps.5.config]
source_mac=22:6a:af:6f:58:d2
destination_mac=c2:68:4c:96:36:e2

[apps.6]
path=apps.mellanox.connectx
type=ConnectX
name=nic_out1

[apps.6.config]
pciaddress=0000:02:0f.0

[apps.6.config.queues.1]
id=q1

[apps.7]
path=apps.mellanox.connectx
type=IO
name=link_out1

[apps.7.config]
pciaddress=0000:02:0f.0
queue=q1

[apps.8]
path=apps.mellanox.connectx
type=ConnectX
name=nic_out2

[apps.8.config]
pciaddress=0000:02:10.0

[apps.8.config.queues.1]
id=q1

[apps.9]
path=apps.mellanox.connectx
type=IO
name=link_out2

[apps.9.config]
pciaddress=0000:02:10.0
queue=q1

[links]
1=link_in.output -> loadbalancer.input
2=loadbalancer.output1 -> forwarder1.input
3=loadbalancer.output2 -> forwarder2.input
4=forwarder1.output -> link_out1.input
5=forwarder2.output -> link_out2.input
